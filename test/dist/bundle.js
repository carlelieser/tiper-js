!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this,s=n(1),a={text:"\n\tThis is like one of those scenes in a futuristic sci-fi movie where someone is communicating with the main character through an ominous computer screen. And the person is completely unaware of the context or meaning of the message, but then later finds out it was destined to be. \n\t\n\tLike how awesome would it be if I just did something like...\n\n\tMark. You are the chosen one.\n\n\tMeet @ Starbucks later tho?\n\n\tNah just kidding, (sorry if your name is Mark). Anyway, hope you enjoy tinkering around with this!\n\n\t",showCaret:!0,caretType:"normal"};i(o,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,new s(document.querySelector(".tiper-js-container"),a).beginTyping()];case 1:return t.sent(),[2]}}))}))},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=n(2),a=s.setIntervalAsync,u=s.clearIntervalAsync,c=function(t,e){var n=this;if(this.options={text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus tempus sagittis dapibus. Fusce lacinia dui tortor, at porttitor quam luctus ut. Aliquam gravida commodo eros ac dictum. Nam ac odio at sem interdum dictum eget sit amet lorem. Vivamus enim velit, condimentum sed neque non, dignissim viverra nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Duis sodales, neque eget tincidunt efficitur, nisi orci vestibulum diam, eget fringilla dui dolor sed nisi. Pellentesque feugiat augue in felis interdum, non tempus dui volutpat. Sed pulvinar, massa non placerat scelerisque, nunc tellus posuere felis, a ultricies mi libero id velit. Mauris sed arcu dolor. Mauris varius a metus sit amet pulvinar. Proin rhoncus non quam in vulputate. ",hesitation:.45,wordsPerMinute:40,pauseTimeout:525,pauseOnSpace:!1,pauseOnEndOfSentence:!0,showCaret:!1,caretType:"normal",glitch:!1,onFinishedTyping:function(){console.log("Finished typing!")}},this.currentIndex=0,this.typingListener={finishedTyping:!1,finishedTypingListener:function(t){},get isFinishedTyping(){return this.finishedTyping},set isFinishedTyping(t){this.finishedTyping=t,this.finishedTypingListener(t)},registerListener:function(t){this.finishedTypingListener=t}},this.trim=function(t){return t.trim()},this.getTypingSpeed=function(){return n.currentText.length/(4.7*n.options.wordsPerMinute)+10},this.getCaretCharacter=function(){return"normal"===n.options.caretType?"▮":"_"},this.setCurrentText=function(t){n.currentText=t,n.currentIndex=0,console.log("Setting current text to:",t)},this.setCurrentTextElement=function(t){n.currentTextElement=t},this.getCurrentText=function(){return n.currentText},this.getTextByRange=function(t,e){return n.getCurrentText().substring(t,e)},this.getCaretLength=function(){return n.options.showCaret?1:0},this.sourceTextIsTargetLength=function(){var t=n.getCaretLength(),e=n.currentTextElement.textContent.length-t,i=n.currentText.length-1;return console.log("Current text length vs actual container text length:",i,e),e==i},this.observeTyping=function(){return new Promise((function(t,e){n.typingListener.registerListener((function(e){e&&t()}))}))},this.setFinishedTyping=function(t){n.typingListener.isFinishedTyping=t},this.resetFinishedTyping=function(){n.setFinishedTyping(!1)},this.updateElementText=function(t){var e=n.currentTextElement.textContent.length,i=n.getTextByRange(0,e)+t;n.currentTextElement.textContent=i},this.stopTyping=function(){return n.activateCaret(),u(n.typingInterval)},this.pauseTyping=function(t){return r(n,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return e=void 0!==t?t:this.options.pauseTimeout,this.stopTyping(),[4,this.delay(e)];case 1:return n.sent(),this.resumeTyping(),[2]}}))}))},this.resumeTyping=function(){n.initializeTypingInterval(),n.deactivateCaret()},this.delay=function(t){return new Promise((function(e){setTimeout(e,t)}))},this.applyVariation=function(){return r(n,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=Math.floor(this.options.hesitation*Math.random()*this.getRandomArbitrary(100,500)),[4,this.delay(t)];case 1:return e.sent(),[2]}}))}))},this.getCharAt=function(t){return n.currentText.charAt(t)},this.isEndOfSentence=function(t,e){return t.match(/[\.\?\!]/g)&&!e.match(/[\.\?\!]/g)||t.match(/\\n/g)},this.getShouldPause=function(t,e){var i=t.match(/\s/g),r=n.isEndOfSentence(t,e);return n.options.pauseOnSpace&&i||n.options.pauseOnEndOfSentence&&r},this.insertCurrentChar=function(){return r(n,void 0,void 0,(function(){var t,e,n,i;return o(this,(function(r){switch(r.label){case 0:return t=this.getCharAt(this.currentIndex),e=this.getCharAt(this.currentIndex+1),n=this.getShouldPause(t,e),i=this.sourceTextIsTargetLength(),this.updateElementText(t),this.options.hesitation?[4,this.applyVariation()]:[3,2];case 1:r.sent(),r.label=2;case 2:return i?(this.options.onFinishedTyping&&this.options.onFinishedTyping(),this.setFinishedTyping(!0),[4,this.stopTyping()]):[3,4];case 3:return r.sent(),[3,6];case 4:return this.currentIndex+=1,n?[4,this.pauseTyping()]:[3,6];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))},this.activateCaret=function(){n.caretElement&&n.caretElement.classList.add("blinking")},this.deactivateCaret=function(){n.caretElement&&n.caretElement.classList.remove("blinking")},this.getRandomArbitrary=function(t,e){return Math.random()*(e-t)+t},this.createSpan=function(t){var e=document.createElement("span");return e.className=t,e},this.appendElementToContainer=function(t){n.container.appendChild(t)},this.initializeTextElement=function(){var t=n.createSpan("tiper-js-text");n.appendElementToContainer(t),n.setCurrentTextElement(t)},this.initializeCaret=function(){n.caretElement&&n.caretElement.remove();var t=n.createSpan("tiper-js-caret");t.innerText=n.getCaretCharacter(),n.appendElementToContainer(t),n.caretElement=t,n.activateCaret()},this.initializeGlitchEffect=function(){n.glitchInterval=a(n.applyGlitch,5e3),console.log("Beginning to type at "+n.options.wordsPerMinute+" words per minute.")},this.initializeTypingInterval=function(){var t=n.getTypingSpeed();n.typingInterval=a(n.insertCurrentChar,t),console.log("Typing interval is:",t)},this.setElementText=function(t){n.currentTextElement.textContent=t},this.resetElementText=function(){n.container.innerHTML=""},this.applyGlitch=function(){return r(n,void 0,void 0,(function(){var t,e,n,i,r;return o(this,(function(o){switch(o.label){case 0:return t=this.container.textContent,e=this.getRandomArbitrary(1,t.length),n=t.substring(0,e),i=t.substring(e,t.length),r=n+"▮ "+i,this.setElementText(r),[4,this.delay(this.options.hesitation*this.getRandomArbitrary(100,200))];case 1:return o.sent(),this.setElementText(""+n+i),[2]}}))}))},this.beginTyping=function(t,e){return r(n,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return n=t||this.options.text,e&&this.resetElementText(),this.initializeTextElement(),this.setCurrentText(n),this.resetFinishedTyping(),this.initializeTypingInterval(),this.options.glitch&&this.initializeGlitchEffect(),this.options.showCaret&&this.initializeCaret(),this.deactivateCaret(),[4,this.observeTyping()];case 1:return i.sent(),[2]}}))}))},this.line=function(t){return r(n,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.beginTyping(t)];case 1:return e.sent(),[2,this]}}))}))},this.container=t,null===this.container)throw new Error("tiper-js: Invalid container element.");e&&(this.options=i(i({},this.options),e)),this.options.text=this.trim(this.options.text),this.setCurrentText(this.options.text)};t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n(3))&&"object"==typeof i&&"default"in i?i.default:i;const o=Math.pow(2,31)-1;function s(){return(s=r((function*(t){t.stopped=!0;for(var e=0,n=Object.values(t.timeouts);e<n.length;e++){const t=n[e];clearTimeout(t)}const i=()=>{},r=Object.values(t.promises).map(t=>{t.catch(i)}),s=setInterval(i,o);yield Promise.all(r),clearInterval(s)}))).apply(this,arguments)}class a extends Error{}Object.defineProperty(a.prototype,"name",{value:"SetIntervalAsyncError"});class u{constructor(){this.stopped=!1,this.id=0,this.timeouts={},this.promises={}}}function c(t,e,n,...i){const o=t.id;t.promises[o]=r((function*(){const r=new Date;try{yield e(...i)}catch(t){console.error(t)}const s=new Date;if(!t.stopped){const a=s-r,u=n>a?n-a:0;t.timeouts[o+1]=setTimeout(c,u,t,e,n,...i)}delete t.timeouts[o],delete t.promises[o]}))(),t.id=o+1}e.SetIntervalAsyncError=a,e.clearIntervalAsync=function(t){return s.apply(this,arguments)},e.setIntervalAsync=function(t,e,...n){!function(t){if("function"!=typeof t)throw new a('Invalid argument: "handler". Expected a function.')}(t),function(t){if(!("number"==typeof t&&10<=t))throw new a('Invalid argument: "interval". Expected a number greater than or equal to 10.')}(e);const i=new u,r=i.id;return i.timeouts[r]=setTimeout(c,e,i,t,e,...n),i}},function(t,e){function n(t,e,n,i,r,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(i,r)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise((function(r,o){var s=t.apply(e,i);function a(t){n(s,r,o,a,u,"next",t)}function u(t){n(s,r,o,a,u,"throw",t)}a(void 0)}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vdGVzdC9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zZXQtaW50ZXJ2YWwtYXN5bmMvZHluYW1pYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVGlwZXIiLCJvcHRpb25zIiwidGV4dCIsInNob3dDYXJldCIsImNhcmV0VHlwZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJlZ2luVHlwaW5nIiwiX19hc3NpZ24iLCJ0aGlzIiwiYXNzaWduIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXBwbHkiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsInBvcCIsInB1c2giLCJfYSIsInNldEludGVydmFsQXN5bmMiLCJjbGVhckludGVydmFsQXN5bmMiLCJjb250YWluZXIiLCJfdGhpcyIsImhlc2l0YXRpb24iLCJ3b3Jkc1Blck1pbnV0ZSIsInBhdXNlVGltZW91dCIsInBhdXNlT25TcGFjZSIsInBhdXNlT25FbmRPZlNlbnRlbmNlIiwiZ2xpdGNoIiwib25GaW5pc2hlZFR5cGluZyIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50SW5kZXgiLCJ0eXBpbmdMaXN0ZW5lciIsImZpbmlzaGVkVHlwaW5nIiwiZmluaXNoZWRUeXBpbmdMaXN0ZW5lciIsInZhbCIsInJlZ2lzdGVyTGlzdGVuZXIiLCJsaXN0ZW5lciIsInRyaW0iLCJzdHIiLCJnZXRUeXBpbmdTcGVlZCIsImN1cnJlbnRUZXh0IiwiZ2V0Q2FyZXRDaGFyYWN0ZXIiLCJzZXRDdXJyZW50VGV4dCIsInNldEN1cnJlbnRUZXh0RWxlbWVudCIsImN1cnJlbnRUZXh0RWxlbWVudCIsImdldEN1cnJlbnRUZXh0IiwiZ2V0VGV4dEJ5UmFuZ2UiLCJzdGFydCIsImVuZCIsInN1YnN0cmluZyIsImdldENhcmV0TGVuZ3RoIiwic291cmNlVGV4dElzVGFyZ2V0TGVuZ3RoIiwiY2FyZXRMZW5ndGgiLCJ0ZXh0Q29udGVudExlbmd0aCIsInRleHRDb250ZW50IiwiY3VycmVudFRleHRMZW5ndGgiLCJvYnNlcnZlVHlwaW5nIiwiaXNGaW5pc2hlZCIsInNldEZpbmlzaGVkVHlwaW5nIiwiaXNGaW5pc2hlZFR5cGluZyIsInJlc2V0RmluaXNoZWRUeXBpbmciLCJ1cGRhdGVFbGVtZW50VGV4dCIsImNoYXIiLCJsYXN0SW5kZXgiLCJzdG9wVHlwaW5nIiwiYWN0aXZhdGVDYXJldCIsInR5cGluZ0ludGVydmFsIiwicGF1c2VUeXBpbmciLCJtcyIsInRpbWVPdXQiLCJ1bmRlZmluZWQiLCJkZWxheSIsInJlc3VtZVR5cGluZyIsImluaXRpYWxpemVUeXBpbmdJbnRlcnZhbCIsImRlYWN0aXZhdGVDYXJldCIsInNldFRpbWVvdXQiLCJhcHBseVZhcmlhdGlvbiIsInRpbWVvdXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnZXRSYW5kb21BcmJpdHJhcnkiLCJnZXRDaGFyQXQiLCJpbmRleCIsImNoYXJBdCIsImlzRW5kT2ZTZW50ZW5jZSIsImN1cnJlbnRDaGFyIiwibmV4dENoYXIiLCJtYXRjaCIsImdldFNob3VsZFBhdXNlIiwiaXNTcGFjZSIsImluc2VydEN1cnJlbnRDaGFyIiwic2hvdWxkUGF1c2UiLCJjYXJldEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJtaW4iLCJtYXgiLCJjcmVhdGVTcGFuIiwiY2xhc3NOYW1lIiwiZWwiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kRWxlbWVudFRvQ29udGFpbmVyIiwiZWxlbWVudCIsImFwcGVuZENoaWxkIiwiaW5pdGlhbGl6ZVRleHRFbGVtZW50IiwidGV4dEVsZW1lbnQiLCJpbml0aWFsaXplQ2FyZXQiLCJjYXJldCIsImlubmVyVGV4dCIsImluaXRpYWxpemVHbGl0Y2hFZmZlY3QiLCJnbGl0Y2hJbnRlcnZhbCIsImFwcGx5R2xpdGNoIiwic2V0RWxlbWVudFRleHQiLCJyZXNldEVsZW1lbnRUZXh0IiwiaW5uZXJIVE1MIiwicmFuZG9tQ2hhclBvc2l0aW9uIiwiYmVmb3JlQ2hhciIsImFmdGVyQ2hhciIsInJlc2V0IiwibGluZSIsIkVycm9yIiwiZXgiLCJfYXN5bmNUb0dlbmVyYXRvciIsIk1BWF9JTlRFUlZBTF9NUyIsInBvdyIsIl9jbGVhckludGVydmFsQXN5bmMiLCJ0aW1lciIsInN0b3BwZWQiLCJfaSIsIl9PYmplY3QkdmFsdWVzIiwidmFsdWVzIiwidGltZW91dHMiLCJjbGVhclRpbWVvdXQiLCJub29wIiwicHJvbWlzZXMiLCJtYXAiLCJwcm9taXNlIiwiY2F0Y2giLCJub29wSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImFsbCIsImNsZWFySW50ZXJ2YWwiLCJTZXRJbnRlcnZhbEFzeW5jRXJyb3IiLCJTZXRJbnRlcnZhbEFzeW5jVGltZXIiLCJpZCIsInRpbWVvdXRIYW5kbGVyIiwiaGFuZGxlciIsImludGVydmFsIiwiYXJncyIsInN0YXJ0VGltZSIsIkRhdGUiLCJlcnIiLCJlcnJvciIsImVuZFRpbWUiLCJleGVjdXRpb25UaW1lIiwiX3giLCJ2YWxpZGF0ZUhhbmRsZXIiLCJ2YWxpZGF0ZUludGVydmFsIiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiZ2VuIiwiX25leHQiLCJfdGhyb3ciLCJhcmciLCJpbmZvIiwiZm4iLCJzZWxmIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixF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b2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImxldCBUaXBlciA9IHJlcXVpcmUoJy4uL2xpYi9pbmRleCcpO1xubGV0IG9wdGlvbnMgPSB7XG5cdHRleHQ6IGBcblx0VGhpcyBpcyBsaWtlIG9uZSBvZiB0aG9zZSBzY2VuZXMgaW4gYSBmdXR1cmlzdGljIHNjaS1maSBtb3ZpZSB3aGVyZSBzb21lb25lIGlzIGNvbW11bmljYXRpbmcgd2l0aCB0aGUgbWFpbiBjaGFyYWN0ZXIgdGhyb3VnaCBhbiBvbWlub3VzIGNvbXB1dGVyIHNjcmVlbi4gQW5kIHRoZSBwZXJzb24gaXMgY29tcGxldGVseSB1bmF3YXJlIG9mIHRoZSBjb250ZXh0IG9yIG1lYW5pbmcgb2YgdGhlIG1lc3NhZ2UsIGJ1dCB0aGVuIGxhdGVyIGZpbmRzIG91dCBpdCB3YXMgZGVzdGluZWQgdG8gYmUuIFxuXHRcblx0TGlrZSBob3cgYXdlc29tZSB3b3VsZCBpdCBiZSBpZiBJIGp1c3QgZGlkIHNvbWV0aGluZyBsaWtlLi4uXG5cblx0TWFyay4gWW91IGFyZSB0aGUgY2hvc2VuIG9uZS5cblxuXHRNZWV0IEAgU3RhcmJ1Y2tzIGxhdGVyIHRobz9cblxuXHROYWgganVzdCBraWRkaW5nLCAoc29ycnkgaWYgeW91ciBuYW1lIGlzIE1hcmspLiBBbnl3YXksIGhvcGUgeW91IGVuam95IHRpbmtlcmluZyBhcm91bmQgd2l0aCB0aGlzIVxuXG5cdGAsXG5cdHNob3dDYXJldDogdHJ1ZSxcblx0Y2FyZXRUeXBlOiAnbm9ybWFsJ1xufTtcblxubGV0IHN0YXJ0VGlwZXIgPSBhc3luYyAoKSA9PiB7XG5cdGxldCB0aXBlciA9IG5ldyBUaXBlcihcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpcGVyLWpzLWNvbnRhaW5lclwiKSxcblx0XHRvcHRpb25zXG5cdCk7XG5cdGF3YWl0IHRpcGVyLmJlZ2luVHlwaW5nKCk7XG59XG5cbnN0YXJ0VGlwZXIoKTsiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9hID0gcmVxdWlyZShcInNldC1pbnRlcnZhbC1hc3luYy9keW5hbWljXCIpLCBzZXRJbnRlcnZhbEFzeW5jID0gX2Euc2V0SW50ZXJ2YWxBc3luYywgY2xlYXJJbnRlcnZhbEFzeW5jID0gX2EuY2xlYXJJbnRlcnZhbEFzeW5jO1xudmFyIFRpcGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpcGVyKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgICAgICB0ZXh0OiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQuIFBoYXNlbGx1cyB0ZW1wdXMgc2FnaXR0aXMgZGFwaWJ1cy4gRnVzY2UgbGFjaW5pYSBkdWkgdG9ydG9yLCBhdCBwb3J0dGl0b3IgcXVhbSBsdWN0dXMgdXQuIEFsaXF1YW0gZ3JhdmlkYSBjb21tb2RvIGVyb3MgYWMgZGljdHVtLiBOYW0gYWMgb2RpbyBhdCBzZW0gaW50ZXJkdW0gZGljdHVtIGVnZXQgc2l0IGFtZXQgbG9yZW0uIFZpdmFtdXMgZW5pbSB2ZWxpdCwgY29uZGltZW50dW0gc2VkIG5lcXVlIG5vbiwgZGlnbmlzc2ltIHZpdmVycmEgbnVsbGEuIENsYXNzIGFwdGVudCB0YWNpdGkgc29jaW9zcXUgYWQgbGl0b3JhIHRvcnF1ZW50IHBlciBjb251YmlhIG5vc3RyYSwgcGVyIGluY2VwdG9zIGhpbWVuYWVvcy4gRHVpcyBzb2RhbGVzLCBuZXF1ZSBlZ2V0IHRpbmNpZHVudCBlZmZpY2l0dXIsIG5pc2kgb3JjaSB2ZXN0aWJ1bHVtIGRpYW0sIGVnZXQgZnJpbmdpbGxhIGR1aSBkb2xvciBzZWQgbmlzaS4gUGVsbGVudGVzcXVlIGZldWdpYXQgYXVndWUgaW4gZmVsaXMgaW50ZXJkdW0sIG5vbiB0ZW1wdXMgZHVpIHZvbHV0cGF0LiBTZWQgcHVsdmluYXIsIG1hc3NhIG5vbiBwbGFjZXJhdCBzY2VsZXJpc3F1ZSwgbnVuYyB0ZWxsdXMgcG9zdWVyZSBmZWxpcywgYSB1bHRyaWNpZXMgbWkgbGliZXJvIGlkIHZlbGl0LiBNYXVyaXMgc2VkIGFyY3UgZG9sb3IuIE1hdXJpcyB2YXJpdXMgYSBtZXR1cyBzaXQgYW1ldCBwdWx2aW5hci4gUHJvaW4gcmhvbmN1cyBub24gcXVhbSBpbiB2dWxwdXRhdGUuIFwiLFxuICAgICAgICAgICAgaGVzaXRhdGlvbjogMC40NSxcbiAgICAgICAgICAgIHdvcmRzUGVyTWludXRlOiA0MCxcbiAgICAgICAgICAgIHBhdXNlVGltZW91dDogNTI1LFxuICAgICAgICAgICAgcGF1c2VPblNwYWNlOiBmYWxzZSxcbiAgICAgICAgICAgIHBhdXNlT25FbmRPZlNlbnRlbmNlOiB0cnVlLFxuICAgICAgICAgICAgc2hvd0NhcmV0OiBmYWxzZSxcbiAgICAgICAgICAgIGNhcmV0VHlwZTogXCJub3JtYWxcIixcbiAgICAgICAgICAgIGdsaXRjaDogZmFsc2UsXG4gICAgICAgICAgICBvbkZpbmlzaGVkVHlwaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaW5pc2hlZCB0eXBpbmchXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAwO1xuICAgICAgICB0aGlzLnR5cGluZ0xpc3RlbmVyID0ge1xuICAgICAgICAgICAgZmluaXNoZWRUeXBpbmc6IGZhbHNlLFxuICAgICAgICAgICAgZmluaXNoZWRUeXBpbmdMaXN0ZW5lcjogZnVuY3Rpb24gKHZhbCkgeyB9LFxuICAgICAgICAgICAgZ2V0IGlzRmluaXNoZWRUeXBpbmcoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoZWRUeXBpbmc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGlzRmluaXNoZWRUeXBpbmcoZmluaXNoZWRUeXBpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaGVkVHlwaW5nID0gZmluaXNoZWRUeXBpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5pc2hlZFR5cGluZ0xpc3RlbmVyKGZpbmlzaGVkVHlwaW5nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWdpc3Rlckxpc3RlbmVyOiBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaGVkVHlwaW5nTGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHJpbSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIudHJpbSgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFR5cGluZ1NwZWVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1zID0gX3RoaXMuY3VycmVudFRleHQubGVuZ3RoIC8gKF90aGlzLm9wdGlvbnMud29yZHNQZXJNaW51dGUgKiA0LjcpICsgMTA7XG4gICAgICAgICAgICByZXR1cm4gbXM7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0Q2FyZXRDaGFyYWN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2hhciA9IF90aGlzLm9wdGlvbnMuY2FyZXRUeXBlID09PSBcIm5vcm1hbFwiID8gXCLilq5cIiA6IFwiX1wiO1xuICAgICAgICAgICAgcmV0dXJuIGNoYXI7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgX3RoaXMuY3VycmVudFRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgX3RoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2V0dGluZyBjdXJyZW50IHRleHQgdG86XCIsIHRleHQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRUZXh0RWxlbWVudCA9IGZ1bmN0aW9uIChjdXJyZW50VGV4dEVsZW1lbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRUZXh0RWxlbWVudCA9IGN1cnJlbnRUZXh0RWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRDdXJyZW50VGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jdXJyZW50VGV4dDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRUZXh0QnlSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IF90aGlzLmdldEN1cnJlbnRUZXh0KCk7XG4gICAgICAgICAgICB2YXIgc3RyID0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldENhcmV0TGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNhcmV0TGVuZ3RoID0gX3RoaXMub3B0aW9ucy5zaG93Q2FyZXQgPyAxIDogMDtcbiAgICAgICAgICAgIHJldHVybiBjYXJldExlbmd0aDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb3VyY2VUZXh0SXNUYXJnZXRMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2FyZXRMZW5ndGggPSBfdGhpcy5nZXRDYXJldExlbmd0aCgpO1xuICAgICAgICAgICAgdmFyIHRleHRDb250ZW50TGVuZ3RoID0gX3RoaXMuY3VycmVudFRleHRFbGVtZW50LnRleHRDb250ZW50Lmxlbmd0aCAtIGNhcmV0TGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUZXh0TGVuZ3RoID0gX3RoaXMuY3VycmVudFRleHQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ3VycmVudCB0ZXh0IGxlbmd0aCB2cyBhY3R1YWwgY29udGFpbmVyIHRleHQgbGVuZ3RoOlwiLCBjdXJyZW50VGV4dExlbmd0aCwgdGV4dENvbnRlbnRMZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIHRleHRDb250ZW50TGVuZ3RoID09IGN1cnJlbnRUZXh0TGVuZ3RoO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9ic2VydmVUeXBpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnR5cGluZ0xpc3RlbmVyLnJlZ2lzdGVyTGlzdGVuZXIoZnVuY3Rpb24gKGlzRmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRmluaXNoZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRGaW5pc2hlZFR5cGluZyA9IGZ1bmN0aW9uIChmaW5pc2hlZFR5cGluZykge1xuICAgICAgICAgICAgX3RoaXMudHlwaW5nTGlzdGVuZXIuaXNGaW5pc2hlZFR5cGluZyA9IGZpbmlzaGVkVHlwaW5nO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlc2V0RmluaXNoZWRUeXBpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRGaW5pc2hlZFR5cGluZyhmYWxzZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlRWxlbWVudFRleHQgPSBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzVGV4dENvbnRlbnQgPSBfdGhpcy5jdXJyZW50VGV4dEVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gcHJldmlvdXNUZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IF90aGlzLmdldFRleHRCeVJhbmdlKDAsIGxhc3RJbmRleCkgKyBjaGFyO1xuICAgICAgICAgICAgX3RoaXMuY3VycmVudFRleHRFbGVtZW50LnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wVHlwaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuYWN0aXZhdGVDYXJldCgpO1xuICAgICAgICAgICAgcmV0dXJuIGNsZWFySW50ZXJ2YWxBc3luYyhfdGhpcy50eXBpbmdJbnRlcnZhbCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucGF1c2VUeXBpbmcgPSBmdW5jdGlvbiAobXMpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aW1lT3V0O1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZU91dCA9IG1zICE9PSB1bmRlZmluZWQgPyBtcyA6IHRoaXMub3B0aW9ucy5wYXVzZVRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BUeXBpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZGVsYXkodGltZU91dCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3VtZVR5cGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTsgfTtcbiAgICAgICAgdGhpcy5yZXN1bWVUeXBpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5pbml0aWFsaXplVHlwaW5nSW50ZXJ2YWwoKTtcbiAgICAgICAgICAgIF90aGlzLmRlYWN0aXZhdGVDYXJldCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlbGF5ID0gZnVuY3Rpb24gKG1zKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFwcGx5VmFyaWF0aW9uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQ7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gTWF0aC5mbG9vcih0aGlzLm9wdGlvbnMuaGVzaXRhdGlvbiAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5yYW5kb20oKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRSYW5kb21BcmJpdHJhcnkoMTAwLCA1MDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZGVsYXkodGltZW91dCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pOyB9O1xuICAgICAgICB0aGlzLmdldENoYXJBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgdmFyIHRleHQgPSBfdGhpcy5jdXJyZW50VGV4dDtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dC5jaGFyQXQoaW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIGNoYXI7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaXNFbmRPZlNlbnRlbmNlID0gZnVuY3Rpb24gKGN1cnJlbnRDaGFyLCBuZXh0Q2hhcikge1xuICAgICAgICAgICAgdmFyIGlzRW5kT2ZTZW50ZW5jZSA9IChjdXJyZW50Q2hhci5tYXRjaCgvW1xcLlxcP1xcIV0vZykgJiYgIW5leHRDaGFyLm1hdGNoKC9bXFwuXFw/XFwhXS9nKSkgfHxcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2hhci5tYXRjaCgvXFxcXG4vZyk7XG4gICAgICAgICAgICByZXR1cm4gaXNFbmRPZlNlbnRlbmNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFNob3VsZFBhdXNlID0gZnVuY3Rpb24gKGN1cnJlbnRDaGFyLCBuZXh0Q2hhcikge1xuICAgICAgICAgICAgdmFyIGlzU3BhY2UgPSBjdXJyZW50Q2hhci5tYXRjaCgvXFxzL2cpO1xuICAgICAgICAgICAgdmFyIGlzRW5kT2ZTZW50ZW5jZSA9IF90aGlzLmlzRW5kT2ZTZW50ZW5jZShjdXJyZW50Q2hhciwgbmV4dENoYXIpO1xuICAgICAgICAgICAgdmFyIHNob3VsZFBhdXNlID0gKF90aGlzLm9wdGlvbnMucGF1c2VPblNwYWNlICYmIGlzU3BhY2UpIHx8XG4gICAgICAgICAgICAgICAgKF90aGlzLm9wdGlvbnMucGF1c2VPbkVuZE9mU2VudGVuY2UgJiYgaXNFbmRPZlNlbnRlbmNlKTtcbiAgICAgICAgICAgIHJldHVybiBzaG91bGRQYXVzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbnNlcnRDdXJyZW50Q2hhciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2hhciwgbmV4dENoYXIsIHNob3VsZFBhdXNlLCBpc0ZpbmlzaGVkO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXIgPSB0aGlzLmdldENoYXJBdCh0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q2hhciA9IHRoaXMuZ2V0Q2hhckF0KHRoaXMuY3VycmVudEluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRQYXVzZSA9IHRoaXMuZ2V0U2hvdWxkUGF1c2UoY3VycmVudENoYXIsIG5leHRDaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmluaXNoZWQgPSB0aGlzLnNvdXJjZVRleHRJc1RhcmdldExlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50VGV4dChjdXJyZW50Q2hhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5oZXNpdGF0aW9uKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuYXBwbHlWYXJpYXRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0ZpbmlzaGVkKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25GaW5pc2hlZFR5cGluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25GaW5pc2hlZFR5cGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGaW5pc2hlZFR5cGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc3RvcFR5cGluZygpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFBhdXNlKSByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucGF1c2VUeXBpbmcoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pOyB9O1xuICAgICAgICB0aGlzLmFjdGl2YXRlQ2FyZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuY2FyZXRFbGVtZW50KVxuICAgICAgICAgICAgICAgIF90aGlzLmNhcmV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYmxpbmtpbmdcIik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZUNhcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmNhcmV0RWxlbWVudClcbiAgICAgICAgICAgICAgICBfdGhpcy5jYXJldEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImJsaW5raW5nXCIpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFJhbmRvbUFyYml0cmFyeSA9IGZ1bmN0aW9uIChtaW4sIG1heCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jcmVhdGVTcGFuID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICBlbC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYXBwZW5kRWxlbWVudFRvQ29udGFpbmVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVGV4dEVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGV4dEVsZW1lbnQgPSBfdGhpcy5jcmVhdGVTcGFuKFwidGlwZXItanMtdGV4dFwiKTtcbiAgICAgICAgICAgIF90aGlzLmFwcGVuZEVsZW1lbnRUb0NvbnRhaW5lcih0ZXh0RWxlbWVudCk7XG4gICAgICAgICAgICBfdGhpcy5zZXRDdXJyZW50VGV4dEVsZW1lbnQodGV4dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDYXJldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5jYXJldEVsZW1lbnQpXG4gICAgICAgICAgICAgICAgX3RoaXMuY2FyZXRFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgdmFyIGNhcmV0ID0gX3RoaXMuY3JlYXRlU3BhbihcInRpcGVyLWpzLWNhcmV0XCIpO1xuICAgICAgICAgICAgY2FyZXQuaW5uZXJUZXh0ID0gX3RoaXMuZ2V0Q2FyZXRDaGFyYWN0ZXIoKTtcbiAgICAgICAgICAgIF90aGlzLmFwcGVuZEVsZW1lbnRUb0NvbnRhaW5lcihjYXJldCk7XG4gICAgICAgICAgICBfdGhpcy5jYXJldEVsZW1lbnQgPSBjYXJldDtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2YXRlQ2FyZXQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplR2xpdGNoRWZmZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZ2xpdGNoSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbEFzeW5jKF90aGlzLmFwcGx5R2xpdGNoLCA1MDAwKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQmVnaW5uaW5nIHRvIHR5cGUgYXQgXCIgKyBfdGhpcy5vcHRpb25zLndvcmRzUGVyTWludXRlICsgXCIgd29yZHMgcGVyIG1pbnV0ZS5cIik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVR5cGluZ0ludGVydmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1zID0gX3RoaXMuZ2V0VHlwaW5nU3BlZWQoKTtcbiAgICAgICAgICAgIF90aGlzLnR5cGluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWxBc3luYyhfdGhpcy5pbnNlcnRDdXJyZW50Q2hhciwgbXMpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUeXBpbmcgaW50ZXJ2YWwgaXM6XCIsIG1zKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRFbGVtZW50VGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50VGV4dEVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlc2V0RWxlbWVudFRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hcHBseUdsaXRjaCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0LCByYW5kb21DaGFyUG9zaXRpb24sIGJlZm9yZUNoYXIsIGFmdGVyQ2hhciwgZ2xpdGNoO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuY29udGFpbmVyLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tQ2hhclBvc2l0aW9uID0gdGhpcy5nZXRSYW5kb21BcmJpdHJhcnkoMSwgdGV4dC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlQ2hhciA9IHRleHQuc3Vic3RyaW5nKDAsIHJhbmRvbUNoYXJQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlckNoYXIgPSB0ZXh0LnN1YnN0cmluZyhyYW5kb21DaGFyUG9zaXRpb24sIHRleHQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsaXRjaCA9IGJlZm9yZUNoYXIgKyBcIlxcdTI1QUUgXCIgKyBhZnRlckNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVsZW1lbnRUZXh0KGdsaXRjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmRlbGF5KHRoaXMub3B0aW9ucy5oZXNpdGF0aW9uICogdGhpcy5nZXRSYW5kb21BcmJpdHJhcnkoMTAwLCAyMDApKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudFRleHQoXCJcIiArIGJlZm9yZUNoYXIgKyBhZnRlckNoYXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTsgfTtcbiAgICAgICAgdGhpcy5iZWdpblR5cGluZyA9IGZ1bmN0aW9uICh0ZXh0LCByZXNldCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUZXh0O1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHQgPSB0ZXh0ID8gdGV4dCA6IHRoaXMub3B0aW9ucy50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRFbGVtZW50VGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplVGV4dEVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VycmVudFRleHQoY3VycmVudFRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEZpbmlzaGVkVHlwaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVUeXBpbmdJbnRlcnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5nbGl0Y2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplR2xpdGNoRWZmZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDYXJldClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVDYXJldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlQ2FyZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMub2JzZXJ2ZVR5cGluZygpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTsgfTtcbiAgICAgICAgdGhpcy5saW5lID0gZnVuY3Rpb24gKHRleHQpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5iZWdpblR5cGluZyh0ZXh0KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7IH07XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICBpZiAodGhpcy5jb250YWluZXIgPT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0aXBlci1qczogSW52YWxpZCBjb250YWluZXIgZWxlbWVudC5cIik7XG4gICAgICAgIGlmIChvcHRpb25zKVxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMudGV4dCA9IHRoaXMudHJpbSh0aGlzLm9wdGlvbnMudGV4dCk7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFRleHQodGhpcy5vcHRpb25zLnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gVGlwZXI7XG59KCkpO1xubW9kdWxlLmV4cG9ydHMgPSBUaXBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxuZnVuY3Rpb24gX2ludGVyb3BEZWZhdWx0IChleCkgeyByZXR1cm4gKGV4ICYmICh0eXBlb2YgZXggPT09ICdvYmplY3QnKSAmJiAnZGVmYXVsdCcgaW4gZXgpID8gZXhbJ2RlZmF1bHQnXSA6IGV4OyB9XG5cbnZhciBfYXN5bmNUb0dlbmVyYXRvciA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3InKSk7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE5IEVtaWxpbyBBbG1hbnNpLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyB3b3JrIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBGb3IgYSBjb3B5LCBzZWUgdGhlIGZpbGUgTElDRU5TRSBpbiB0aGUgcm9vdCBkaXJlY3RvcnkuXG4gKi9cbmNvbnN0IE1BWF9JTlRFUlZBTF9NUyA9IE1hdGgucG93KDIsIDMxKSAtIDE7XG4vKipcbiAqIFN0b3BzIGFuIGV4ZWN1dGlvbiBjeWNsZSBzdGFydGVkIGJ5IHNldEludGVydmFsQXN5bmMuPGJyPlxuICogQW55IG9uZ29pbmcgZnVuY3Rpb24gZXhlY3V0aW9ucyB3aWxsIHJ1biB1bnRpbCBjb21wbGV0aW9uLFxuICogYnV0IGFsbCBmdXR1cmUgb25lcyB3aWxsIGJlIGNhbmNlbGxlZC5cbiAqXG4gKiBAcGFyYW0ge1NldEludGVydmFsQXN5bmNUaW1lcn0gdGltZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICogICAgICAgICAgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gYWxsIHBlbmRpbmcgZXhlY3V0aW9ucyBoYXZlIGZpbmlzaGVkLlxuICovXG5cbmZ1bmN0aW9uIGNsZWFySW50ZXJ2YWxBc3luYyhfeCkge1xuICByZXR1cm4gX2NsZWFySW50ZXJ2YWxBc3luYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfY2xlYXJJbnRlcnZhbEFzeW5jKCkge1xuICBfY2xlYXJJbnRlcnZhbEFzeW5jID0gX2FzeW5jVG9HZW5lcmF0b3IoZnVuY3Rpb24qICh0aW1lcikge1xuICAgIHRpbWVyLnN0b3BwZWQgPSB0cnVlO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JHZhbHVlcyA9IE9iamVjdC52YWx1ZXModGltZXIudGltZW91dHMpOyBfaSA8IF9PYmplY3QkdmFsdWVzLmxlbmd0aDsgX2krKykge1xuICAgICAgY29uc3QgdGltZW91dCA9IF9PYmplY3QkdmFsdWVzW19pXTtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9XG5cbiAgICBjb25zdCBub29wID0gKCkgPT4ge307XG5cbiAgICBjb25zdCBwcm9taXNlcyA9IE9iamVjdC52YWx1ZXModGltZXIucHJvbWlzZXMpLm1hcChwcm9taXNlID0+IHtcbiAgICAgIHByb21pc2UuY2F0Y2gobm9vcCk7XG4gICAgfSk7XG4gICAgY29uc3Qgbm9vcEludGVydmFsID0gc2V0SW50ZXJ2YWwobm9vcCwgTUFYX0lOVEVSVkFMX01TKTtcbiAgICB5aWVsZCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgY2xlYXJJbnRlcnZhbChub29wSW50ZXJ2YWwpO1xuICB9KTtcbiAgcmV0dXJuIF9jbGVhckludGVydmFsQXN5bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkgRW1pbGlvIEFsbWFuc2kuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIHdvcmsgaXMgbGljZW5zZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgbGljZW5zZS5cbiAqIEZvciBhIGNvcHksIHNlZSB0aGUgZmlsZSBMSUNFTlNFIGluIHRoZSByb290IGRpcmVjdG9yeS5cbiAqL1xuXG4vKipcbiAqIEVycm9yIHRocm93biBieSBzZXRJbnRlcnZhbEFzeW5jIHdoZW4gaW52YWxpZCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLlxuICovXG5jbGFzcyBTZXRJbnRlcnZhbEFzeW5jRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU2V0SW50ZXJ2YWxBc3luY0Vycm9yLnByb3RvdHlwZSwgJ25hbWUnLCB7XG4gIHZhbHVlOiAnU2V0SW50ZXJ2YWxBc3luY0Vycm9yJ1xufSk7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE5IEVtaWxpbyBBbG1hbnNpLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyB3b3JrIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBGb3IgYSBjb3B5LCBzZWUgdGhlIGZpbGUgTElDRU5TRSBpbiB0aGUgcm9vdCBkaXJlY3RvcnkuXG4gKi9cbmNvbnN0IE1JTl9JTlRFUlZBTF9NUyA9IDEwO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgLSBIYW5kbGVyIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGluIGludGVydmFscy48YnI+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF5IGJlIGFzeW5jaHJvbm91cy5cbiAqL1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUhhbmRsZXIoaGFuZGxlcikge1xuICBpZiAoISh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICB0aHJvdyBuZXcgU2V0SW50ZXJ2YWxBc3luY0Vycm9yKCdJbnZhbGlkIGFyZ3VtZW50OiBcImhhbmRsZXJcIi4gRXhwZWN0ZWQgYSBmdW5jdGlvbi4nKTtcbiAgfVxufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbCAtIEludGVydmFsIGluIG1pbGxpc2Vjb25kcy4gTXVzdCBiZSBhdCBsZWFzdCAxMCBtcy5cbiAqL1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUludGVydmFsKGludGVydmFsKSB7XG4gIGlmICghKHR5cGVvZiBpbnRlcnZhbCA9PT0gJ251bWJlcicgJiYgTUlOX0lOVEVSVkFMX01TIDw9IGludGVydmFsKSkge1xuICAgIHRocm93IG5ldyBTZXRJbnRlcnZhbEFzeW5jRXJyb3IoYEludmFsaWQgYXJndW1lbnQ6IFwiaW50ZXJ2YWxcIi4gRXhwZWN0ZWQgYSBudW1iZXIgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7TUlOX0lOVEVSVkFMX01TfS5gKTtcbiAgfVxufVxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxOSBFbWlsaW8gQWxtYW5zaS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgd29yayBpcyBsaWNlbnNlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVCBsaWNlbnNlLlxuICogRm9yIGEgY29weSwgc2VlIHRoZSBmaWxlIExJQ0VOU0UgaW4gdGhlIHJvb3QgZGlyZWN0b3J5LlxuICovXG5cbi8qKlxuICogVGltZXIgb2JqZWN0IHJldHVybmVkIGJ5IHNldEludGVydmFsQXN5bmMuPGJyPlxuICogQ2FuIGJlIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgY2xlYXJJbnRlcnZhbEFzeW5jfSB0byBzdG9wIGV4ZWN1dGlvbi5cbiAqL1xuY2xhc3MgU2V0SW50ZXJ2YWxBc3luY1RpbWVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5pZCA9IDA7XG4gICAgdGhpcy50aW1lb3V0cyA9IHt9O1xuICAgIHRoaXMucHJvbWlzZXMgPSB7fTtcbiAgfVxuXG59XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gZXhlY3V0ZSB0aGUgZ2l2ZW4gaGFuZGxlciBhdCByZWd1bGFyIGludGVydmFscywgd2hpbGUgcHJldmVudGluZzxicj5cbiAqIG11bHRpcGxlIGNvbmN1cnJlbnQgZXhlY3V0aW9ucy4gVGhlIGhhbmRsZXIgd2lsbCBuZXZlciBiZSBleGVjdXRlZCBjb25jdXJyZW50bHk8YnI+XG4gKiBtb3JlIHRoYW4gb25jZSBpbiBhbnkgZ2l2ZW4gbW9tZW50LiBJZiB0aGUgcnVubmluZyB0aW1lIG9mIGFueSBleGVjdXRpb24gZXhjZWVkczxicj5cbiAqIHRoZSBkZXNpcmVkIGludGVydmFsLCB0aGUgZm9sbG93aW5nIGV4ZWN1dGlvbiB3aWxsIGJlIHNjaGVkdWxlZCBhcyBzb29uIGFzPGJyPlxuICogcG9zc2libGU7IGllLiBpbW1lZGlhdGVseSBhZnRlciB0aGUgcHJldmlvdXMgZXhlY3V0aW9uIGNvbmNsdWRlcy5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIC0gSGFuZGxlciBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCBpbiBpbnRlcnZhbHMuPGJyPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1heSBiZSBhc3luY2hyb25vdXMuXG4gKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgLSBJbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMuIE11c3QgYmUgYXQgbGVhc3QgMTAgbXMuXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgLSBBbnkgbnVtYmVyIG9mIGFyZ3VtZW50cyB0byBwYXNzIG9uIHRvIHRoZSBoYW5kbGVyLlxuICogQHJldHVybnMge1NldEludGVydmFsQXN5bmNUaW1lcn1cbiAqICAgICAgICAgIEEgdGltZXIgb2JqZWN0IHdoaWNoIGNhbiBiZSB1c2VkIHRvIHN0b3AgZXhlY3V0aW9uIHdpdGgge0BsaW5rIGNsZWFySW50ZXJ2YWxBc3luY30uXG4gKlxuICogQGFsaWFzIFtEeW5hbWljXSBzZXRJbnRlcnZhbEFzeW5jXG4gKi9cblxuZnVuY3Rpb24gc2V0SW50ZXJ2YWxBc3luYyhoYW5kbGVyLCBpbnRlcnZhbCwgLi4uYXJncykge1xuICB2YWxpZGF0ZUhhbmRsZXIoaGFuZGxlcik7XG4gIHZhbGlkYXRlSW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICBjb25zdCB0aW1lciA9IG5ldyBTZXRJbnRlcnZhbEFzeW5jVGltZXIoKTtcbiAgY29uc3QgaWQgPSB0aW1lci5pZDtcbiAgdGltZXIudGltZW91dHNbaWRdID0gc2V0VGltZW91dCh0aW1lb3V0SGFuZGxlciwgaW50ZXJ2YWwsIHRpbWVyLCBoYW5kbGVyLCBpbnRlcnZhbCwgLi4uYXJncyk7XG4gIHJldHVybiB0aW1lcjtcbn1cblxuZnVuY3Rpb24gdGltZW91dEhhbmRsZXIodGltZXIsIGhhbmRsZXIsIGludGVydmFsLCAuLi5hcmdzKSB7XG4gIGNvbnN0IGlkID0gdGltZXIuaWQ7XG4gIHRpbWVyLnByb21pc2VzW2lkXSA9IF9hc3luY1RvR2VuZXJhdG9yKGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcblxuICAgIHRyeSB7XG4gICAgICB5aWVsZCBoYW5kbGVyKC4uLmFyZ3MpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH1cblxuICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgaWYgKCF0aW1lci5zdG9wcGVkKSB7XG4gICAgICBjb25zdCBleGVjdXRpb25UaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBpbnRlcnZhbCA+IGV4ZWN1dGlvblRpbWUgPyBpbnRlcnZhbCAtIGV4ZWN1dGlvblRpbWUgOiAwO1xuICAgICAgdGltZXIudGltZW91dHNbaWQgKyAxXSA9IHNldFRpbWVvdXQodGltZW91dEhhbmRsZXIsIHRpbWVvdXQsIHRpbWVyLCBoYW5kbGVyLCBpbnRlcnZhbCwgLi4uYXJncyk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRpbWVyLnRpbWVvdXRzW2lkXTtcbiAgICBkZWxldGUgdGltZXIucHJvbWlzZXNbaWRdO1xuICB9KSgpO1xuICB0aW1lci5pZCA9IGlkICsgMTtcbn1cblxuZXhwb3J0cy5TZXRJbnRlcnZhbEFzeW5jRXJyb3IgPSBTZXRJbnRlcnZhbEFzeW5jRXJyb3I7XG5leHBvcnRzLmNsZWFySW50ZXJ2YWxBc3luYyA9IGNsZWFySW50ZXJ2YWxBc3luYztcbmV4cG9ydHMuc2V0SW50ZXJ2YWxBc3luYyA9IHNldEludGVydmFsQXN5bmM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3luY1RvR2VuZXJhdG9yOyJdLCJzb3VyY2VSb290IjoiIn0=